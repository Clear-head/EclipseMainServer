"""
ê²€ì¦ ë¡œì§ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ (LLM ê²€ì¦ í¬í•¨)
"""

import os
import sys
from dotenv import load_dotenv

sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

from src.service.application.utils import validate_user_input

load_dotenv()

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤
test_cases = [
    # ê·œì¹™ ê¸°ë°˜ ê²€ì¦ (ì¦‰ì‹œ ì°¨ë‹¨)
    ("asd", "ì¹´í˜", "í‚¤ë³´ë“œ íŒ¨í„´"),
    ("ã…‹ã…‹ã…‹ã…‹", "ì¹´í˜", "ë°˜ë³µ ë¬¸ì"),
    ("123", "ì¹´í˜", "ìˆ«ìë§Œ"),
    ("!@#", "ì¹´í˜", "íŠ¹ìˆ˜ë¬¸ìë§Œ"),
    ("ã…‹ã…‹", "ì¹´í˜", "ììŒ/ëª¨ìŒë§Œ"),
    ("ã„±ã„±", "ì¹´í˜", "ììŒ/ëª¨ìŒë§Œ"),
    ("ã…‡ã…‡", "ì¹´í˜", "ììŒ/ëª¨ìŒë§Œ"),
    
    # LLM ê²€ì¦ (ì§§ì€ ì…ë ¥ - 5ì ì´í•˜)
    ("ë‚´ê°€ ì™œ?", "ì¹´í˜", "ì§§ì€ ì…ë ¥ (4ì)"),
    ("ì™œ?", "ì¹´í˜", "ì§§ì€ ì…ë ¥ (1ì)"),
    ("ë­?", "ì¹´í˜", "ì§§ì€ ì…ë ¥ (1ì)"),
    ("ì‘", "ì¹´í˜", "ì§§ì€ ì…ë ¥ (1ì)"),
    ("ë„¤", "ì¹´í˜", "ì§§ì€ ì…ë ¥ (1ì)"),
    
    # LLM ê²€ì¦ (ì• ë§¤í•œ í‚¤ì›Œë“œ)
    ("ì•„ë¬´ê±°ë‚˜", "ì¹´í˜", "ì• ë§¤í•œ í‚¤ì›Œë“œ"),
    ("ê·¸ëƒ¥ ì•„ë¬´ê±°ë‚˜", "ì¹´í˜", "ì• ë§¤í•œ í‚¤ì›Œë“œ"),
    
    # í†µê³¼ (6ì ì´ìƒ)
    ("ì¡°ìš©í•œ ì¹´í˜", "ì¹´í˜", "ëª…ë°±íˆ ì˜ë¯¸ìˆìŒ"),
    ("íŒŒìŠ¤íƒ€ ë§›ì§‘", "ìŒì‹ì ", "ëª…ë°±íˆ ì˜ë¯¸ìˆìŒ"),
]

print("\n" + "="*80)
print("  ğŸ§ª ê²€ì¦ ë¡œì§ í…ŒìŠ¤íŠ¸ (LLM ê²€ì¦ í¬í•¨)")
print("="*80)
print("\nğŸ’¡ í…ŒìŠ¤íŠ¸ ì „ëµ:")
print("  1ï¸âƒ£  ê·œì¹™ ê¸°ë°˜: ëª…ë°±íˆ ë¬´ì˜ë¯¸í•œ ê²ƒ ì¦‰ì‹œ ì°¨ë‹¨ (LLM í˜¸ì¶œ X)")
print("  2ï¸âƒ£  LLM ê²€ì¦: ì§§ê±°ë‚˜ ì• ë§¤í•œ ê²ƒ LLMì´ íŒë‹¨ (5ì ì´í•˜ or ì• ë§¤í•œ í‚¤ì›Œë“œ)")
print("  3ï¸âƒ£  í†µê³¼: ëª…ë°±íˆ ì˜ë¯¸ìˆëŠ” ê²ƒ (6ì ì´ìƒ + ì• ë§¤í•œ í‚¤ì›Œë“œ ì—†ìŒ)\n")

for user_input, category, description in test_cases:
    print("\n" + "-"*80)
    print(f"\nì…ë ¥: '{user_input}' ({description})")
    
    is_valid, error_msg = validate_user_input(user_input, category)
    
    status = "âœ… í†µê³¼" if is_valid else "âŒ ê±°ë¶€"
    print(f"ê²°ê³¼: {status}")
    if not is_valid:
        print(f"ì‚¬ìœ : {error_msg[:60]}...")

print("\n" + "="*80)

